**目录**

[脏牛漏洞](#t0)

[复现：](#t1)

* * *

脏牛漏洞
----

**脏牛漏洞**，又叫Dirty COW，存在Linux内核中已经有长达9年的时间，在2007年发布的Linux内核版本中就已经存在此漏洞。Linux kernel团队在2016年10月18日已经对此进行了修复。

**漏洞范围**：Linux内核 >= 2.6.22（2007年发行，到2016年10月18日才修复）

**简要分析**：该漏洞具体为，Linux内核的内存子系统在处理写入复制（copy-on-write, COW）时产生了竞争条件（race condition）。恶意用户可利用此漏洞，来获取高权限，对只读内存映射进行写访问。竞争条件，指的是任务执行顺序异常，可导致应用崩溃，或令攻击者有机可乘，进一步执行其他代码。利用这一漏洞，攻击者可在其目标系统提升权限，甚至可能获得root权限。

exp：[https://github.com/gbonacini/CVE-2016-5195](https://github.com/gbonacini/CVE-2016-5195)

### 复现：

**环境：**Redhat7，Linux内核版本 3.10.0。

![](https://img-blog.csdnimg.cn/20190725153748799.png)

将 exp2 上传到目标机器，解压，进入解压目录。执行make后生成可执行文件dcow，执行  ./dcow -s ，如果成功的话，会返回一个root权限的shell，如下图。

注：执行make后的 gcc 版本要较高版本。

![](https://img-blog.csdnimg.cn/20190725153446714.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM2MTE5MTky,size_16,color_FFFFFF,t_70)

参考文章：[脏牛Linux本地提权漏洞复现(CVE-2016-5195)](https://www.jianshu.com/p/df72d1ee1e3e)  
 

文章知识点与官方知识档案匹配，可进一步学习相关知识

[CS入门技能树](https://edu.csdn.net/skill/gml/gml-1c31834f07b04bcc9c5dff5baaa6680c)[Linux入门](https://edu.csdn.net/skill/gml/gml-1c31834f07b04bcc9c5dff5baaa6680c)[初识Linux](https://edu.csdn.net/skill/gml/gml-1c31834f07b04bcc9c5dff5baaa6680c)10973 人正在系统学习中